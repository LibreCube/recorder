newgui main [
    guibutton "multiplayer.."    "showgui multiplayer"
    guibutton "bot match.."      "showgui botmatch"
    guibutton "campaign.."       "showgui campaign"
    guibutton "load map.."       "showgui maps"
    guibutton "editing.."        "showgui editing"
    guibutton "options.."        "showgui options"
	guibar
	guitext "SauerEnhanced"
	guibutton " settings"   "showgui se"
	guibutton " news"	"getsenews; showgui news"
	guibutton " about"	"showgui AboutSE"
	guibar
    guibutton "about.."          "showgui about"
    guibutton "quit"             "showgui quit"                 "exit"
]

newgui profiles [
	if (> (getprofilenum) 0) [
		loop i (getprofilenum) [
			guibutton (at (getprofiles) $i) [readprofile (at (getprofiles) $i); cleargui 1]
		]
	] [
		guitext "no profiles"
	]
	guibar
	guitext "add new profile:"
	guifield newprofilename 32
	guilist [
		guibutton create [createprofile $newprofilename]
		guibar
		guibutton quit [showgui quit]
	]
]

newgui AboutSE [
    guitext (concat "Version" (getseversion))
    guitext "Sounds, code and graphics by"
    guitext [Slawek "Q009" Blauciak]
    guitext 
    guitext "Thanks to Quaker66 for help"
    guitext
    guitext "Flag and radar icons by"
    guitext "K1P57A"
]

newgui NewVersion [
	guitext "There's new release of SauerEnhanced!"
	guitext "Download now?"
	guilist [
		guibutton "Yes" sedownload
		guibar
		guibutton "No" [cleargui 1]
	]
]

newgui NewPatch [
	guitext "There's new patch for SauerEnhanced!"
	guitext "Download now?"
	guilist [
		guibutton "Yes" sepatch
		guibutton "No" [cleargui 1]
	]
]

newgui DownloadCompleted [
	guitext "Download completed!"
	guitext "ZIP file is in main Sauerbraten folder"
	guitext "Unpack it and install!"
	guilist [
		guibutton Ok [cleargui 1]
		guibar
		guibutton "^f2What's new?" "getsenews; showgui news"
	]
]

newgui quit [
    guitext "Are you sure?"
    guilist [
        guibutton "^f0No " [cleargui 1]
        guibar
        guibutton "^f3Yes" quit exit
    ]
]

newgui se [
    guititle "SauerbratenEnhanced"
    guilist [ guilist [
    guitext "Features"
    guitext "Not all features can be disabled yet..."
    guicheckbox "Improved gun effects" seimprovedguneffects
    guicheckbox "Improved explosion effects" seimprovedexplosions
    guicheckbox "Improved projectile effects" seimprovedprojectiles
    guicheckbox "Bullet impact effects" sebulletimpactsmoke
    guicheckbox "Bullet impact sound" sebulletimpactsound
    guicheckbox "Teammate name showing" seteamnames
    guicheckbox "Load additional map entities" loadse
    guicheckbox "Snow|rain particles" separticles
    guicheckbox "Many particles (better quality)" maxparticles 40000 4000
    guicheckbox "Auto-says" seautosay
    guicheckbox "Flame glow particles" seflameglow
    guicheckbox "New HUD" senewhud
    guicheckbox "Show FPS" showfps 1 0
    guibar
    newmsg = $seendmsg
    guitext "Message on end of match:"
    guifield newmsg 64 [seendmsg $newmsg]
    ] ]
]

newgui servers [
    guistayopen [
        guilist [
            guibutton "update server list from master server" "updatefrommaster"
            guibar
            guicheckbox "search LAN" searchlan
            guibar
            guibutton "Sort servers" sortservers
        ]
    ]
    guibar
    guiservers
]